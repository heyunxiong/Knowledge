# 第25章 代码调整策略
## 25.1 性能概述
代码质量和性能
相对于代码质量，用户更加关心的是程序的外在特性

性能和代码调整
- 程序需求   花费时间处理一个性能问题之前，需要清楚你的确在解决一个确实需要解决的问题， 即 性能提升带来的价值要大于花费价值，不要因小失大。
- 程序设计    在设计架构时优先考虑整体性能，然后再为单个的子系统、特征和类设置要达到的资源占用目标
- 类和子程序设计    找到合适的数据类型和算法，使用map还是list，是快速排序还是冒泡排序等
- 与操作系统的交互    即读写文件操作等
- 代码编译  选择合适的编译器能提高效率
- 硬件性能    硬件的提升更加显著
- 代码调整  小修小补

## 25.2  代码调整
通过调整几行代码，就能把原本运行起来需要花费20微妙的程序优化到2微妙

pareto法则 即 80/20法则 花费20%的努力取得80%的成效

==错误的观点：==
- （错）在高级语言中，减少代码的行数就可以提升所生成的机器码的运行速度或是减少其资源占用      并无必然联系
- （错）特定运算可能比其他的快，代码规模也比较小
- （错）应当随时随地的优化   

## 25.3 常见的低效率操作
- 输入输出操作
- 系统调用  系统上下文的切换——保存程序状态，恢复内核状态等
- 解释型语言
- 错误代码

## 25.4 性能测量
某些一小部分常常会耗费同自己体积不成比例的运算时间，即代码只有几行，但是运行的时间花费很大。所以需要找到代码中的热点（hot spots），才能对其集中优化

2022年7月22日
Yunxiong
