# 第19章 一般控制问题

## 19.1 布尔表达式

使用true和false做布尔判断，不要用0和1等数值
隐式地比较布尔值与true和false。 while(not done)，while(a>b)而不是 while( done =false), while((a>b)=true)，后者增加理解负担

简化复杂的表达式
- 拆分复杂的判断并引入新的布尔值变量，即用中间变量接受判断结果
- 复杂的判断可作为一个函数
- 使用决策表代替复杂的逻辑判断条件。即用表存放判断结果，而不是一味的使用if-else，让代码变得冗长

编写肯定形式的布尔表达式
- 在if语句中，把判断条件从否定形式转为肯定形式，if 和else 中的语句互换
```JAVA
//令人困惑的判断
if(!statusOk){
	// ...do...something
}else{
	// ...do...something else
}
// 肯定形式的判断
if(statusOk){
	// ...do...something else
}else{
	// ...do...something
}
```

- 用耿摩根定理简化否定的布尔判断
即一个表达式和另一个表达式含义相同但却以双重否定形式表达的表达式之间的逻辑关系。
if(!displayOk || !printOk)  --->  if(! (displayOk && printOk))
![](_assets/_file_代码大全（第二版）第19章%20一般控制问题/img-代码大全（第二版）第19章%20一般控制问题-20220720_195129601.png)
- 善用括号，使布尔表达式更加清晰

理解布尔表达式的求值
有些语言会有短路判断或者惰性判断， 即 单个&和 两个&&这种情况

按照数轴的顺序编写数值表达式，这样能更好的组织判断，从左到右，由大到小排列元素

与0比较
- 隐式地比较逻辑变量 while（！done）
- 显示地比较数值变量 while（balance！=0），注意，是数值要显示
- 字符比较的话，可能需要转义字符 char != '\\0'
- 与null比较，写成 while （bufferPtr ！=null）


注意问题
在java中，应理解 a \==b 和 a.equals(b)的区别， 前者判断是否引用了同一个对象，后者判断是否有相同的值。一般使用后者进行比较

## 19.2 复合语句、语句块
即使用{ } 或者 ( ) 表示的代码区域

## 19.3 空语句
谨慎使用

## 19.4 危险的深层嵌套
建议嵌套层数 < 3， 嵌套太深，可以重新设计if-else判断语句的执行，或者把代码重构为更简单的子程序
一些技巧和建议
- 通过重复检测条件中的某一个部分来简化嵌套的if语句
- 用break语句块来简化嵌套if
- if语句换成case语句，特别是整数判断的
- 把深层嵌套的代码抽取出来放进单独的子程序中

## 19.5 结构化编程
单入单出的控制结构，一个代码块，只能从一个位置开始执行，并且只能结束于一个位置。

组成部分：
- 顺序 一组先后顺序执行的语句
- 选择 if-then-else
- 迭代 即循环

结构化编程的中心论点是，任何一种控制流都可以由顺序、选择和迭代这三种结构生成。

## 19.6 控制结构与复杂度
控制流是影响程序复杂度的重要因素

如何度量控制流的复杂度
![](_assets/_file_代码大全（第二版）第19章%20一般控制问题/img-代码大全（第二版）第19章%20一般控制问题-20220720_210359065.png)

2022年7月20日
Yunxiong
