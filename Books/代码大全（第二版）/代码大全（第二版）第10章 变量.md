> 第3部分
> 	第10章~第13章

# 第10章 变量

~~## 10.1 数据认知~~

## 10.2 定义变量
隐式声明，隐式声明变量是很危险的

- 关闭隐式声明 关闭编译器的隐式声明功能
- 声明全部的变量
- 遵循某种命名规则
- 检查变量名

## 10.3 变量的初始化
不恰当的变量初始化问题
- 从未对变量赋值，它的值只是程序启动时变量所处内存区域的值
- 变量值已经过期
- 变量的一部分被赋值，一部分没有（即组合变量，或者连接起来的变量）

避免初始化错误的建议
- 在声明变量的时候初始化
- 就近原则初始化 即把相关的操作放在一起
- 常量使用final 关键字
- 通过构造函数初始化数据成员变量
- 检查是否需要重新初始化
- 检查输入参数的合法性

## 10.4 作用域（可见性）
作用域或者可见性指的是变量在程序内的可见和可引用的范围

尽可能缩短变量的存活时间，存活时间即一个变量存在期间所跨越的语句总数
![](_assets/_file_代码大全（第二版）第10章%20变量/img-代码大全（第二版）第10章%20变量-20220720_212529486.png)

减小作用域的一般原则
- 循环开始之前才初始化循环内要用到的变量
- 知道变量即将被使用时再为其赋值，即赋值位置越明显越好
- 把相关语句放到一起
- 考虑提取成子程序（方法）

## 10.5 持续性 

持续性是对一项数据的生命期的另一种描述。（最简单的理解场景：放数据库里）
多种形态如下
- 特定代码段的持续性
- 对象new出来的到回收的持续性
- 依赖于程序的运行的持续性，如static 变量
- 永久持续，放数据库里

避免数据过期

## 10.6 绑定时间
绑定事件：变量和它的值绑定在一起的时间，采用越晚绑定越有利，越晚代码越灵活

绑定发生的时间
- 编码时 使用神秘数值
- 编译时 使用具名常量
- 加载时 
- 对象实例化时
- 即时

## 10.7 数据类型和控制结构之间的关系

java中描述了三种类型的数据和相应控制结构之间的关系
- 序列型数据翻译为程序中的顺序语句
- 选择性数据翻译成程序中if-else语句
- 迭代行数据翻译成程序中的for。while等循环结构

## 10.8 为变量指定单一用途
- 每个变量只用于单一用途
- 避免让代码具有隐含含义
- 确保使用了所有已声明的变量，不使用的变量记得删掉。


2022年7月20日
Yunxiong



